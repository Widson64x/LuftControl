{% extends "Base.html" %}

{% block title %}Relat√≥rios - DRE Control System{% endblock %}

{% block extra_css %}
<style>
    .page-header {
        background: var(--bg-card);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: var(--radius-lg);
        padding: 2rem;
        margin-bottom: 3rem;
        text-align: center;
        position: relative;
        overflow: hidden;
    }

    .page-header::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: var(--bg-gradient);
    }

    .page-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
    }

    .page-subtitle {
        color: var(--text-secondary);
        font-size: 1.1rem;
    }

    .filter-bar {
        background: var(--bg-card);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: var(--radius-lg);
        padding: 1.5rem;
        margin-bottom: 2rem;
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        align-items: center;
    }

    .filter-item {
        flex: 1;
        min-width: 200px;
    }

    .filter-label {
        display: block;
        color: var(--text-secondary);
        font-size: 0.85rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }

    .filter-select {
        width: 100%;
        padding: 0.75rem;
        background: var(--bg-dark);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: var(--radius-sm);
        color: var(--text-primary);
        cursor: pointer;
        transition: var(--transition-fast);
    }

    .filter-select:focus {
        outline: none;
        border-color: var(--primary);
    }
</style>
{% endblock %}

{% block content %}
<div class="page-header fade-in">
    <h1 class="page-title">
        <i class="fas fa-chart-bar"></i> Relat√≥rios Financeiros
    </h1>
    <p class="page-subtitle">Acesse e visualize todos os relat√≥rios dispon√≠veis no sistema</p>
</div>

<!-- Filter Bar -->
<div class="filter-bar fade-in">
    <div class="filter-item">
        <label class="filter-label">
            <i class="fas fa-filter"></i> Categoria
        </label>
        <select class="filter-select">
            <option value="all">Todos os Relat√≥rios</option>
            <option value="financeiro">Financeiro</option>
            <option value="operacional">Operacional</option>
            <option value="gerencial">Gerencial</option>
        </select>
    </div>

    <div class="filter-item">
        <label class="filter-label">
            <i class="fas fa-calendar"></i> Per√≠odo
        </label>
        <select class="filter-select">
            <option value="current">M√™s Atual</option>
            <option value="last">√öltimo M√™s</option>
            <option value="quarter">Trimestre</option>
            <option value="year">Ano</option>
        </select>
    </div>

    <div class="filter-item">
        <label class="filter-label">
            <i class="fas fa-sort"></i> Ordenar por
        </label>
        <select class="filter-select">
            <option value="name">Nome</option>
            <option value="date">Data</option>
            <option value="popular">Mais Usados</option>
        </select>
    </div>
</div>

<!-- Relat√≥rios Grid -->
<div class="relatorios-grid">
    <!-- Relat√≥rio de Raz√£o Consolidada -->
    <div class="relatorio-card slide-in-up" style="animation-delay: 0.1s;">
        <div class="relatorio-icon">
            üìà
        </div>
        <h3>Relat√≥rio de Raz√£o</h3>
        <p>Visualize o relat√≥rio consolidado de raz√£o com dados de d√©bito, cr√©dito e saldo de todas as contas cont√°beis.</p>
        <div style="margin-bottom: 1rem;">
            <span class="status-badge status-active">Ativo</span>
        </div>
        <button class="btn-primary-custom" onclick="carregarRelatorioRazao()">
            <i class="fas fa-eye"></i> Visualizar Relat√≥rio
        </button>
    </div>

    <!-- DRE Consolidada -->
    <div class="relatorio-card slide-in-up" style="animation-delay: 0.2s;">
        <div class="relatorio-icon">
            üí∞
        </div>
        <h3>DRE Consolidada</h3>
        <p>Demonstra√ß√£o do Resultado do Exerc√≠cio consolidada com an√°lise completa de receitas, custos e despesas.</p>
        <div style="margin-bottom: 1rem;">
            <span class="status-badge status-development">Em Desenvolvimento</span>
        </div>
        <button class="btn-secondary-custom" onclick="NotificationSystem.show('Relat√≥rio em desenvolvimento', 'info')">
            <i class="fas fa-clock"></i> Em Breve
        </button>
    </div>

    <!-- Centro de Custo -->
    <div class="relatorio-card slide-in-up" style="animation-delay: 0.3s;">
        <div class="relatorio-icon">
            üè¢
        </div>
        <h3>Centro de Custo</h3>
        <p>An√°lise detalhada por centro de custo com aloca√ß√£o de despesas e classifica√ß√£o por departamento.</p>
        <div style="margin-bottom: 1rem;">
            <span class="status-badge status-development">Em Desenvolvimento</span>
        </div>
        <button class="btn-secondary-custom" onclick="NotificationSystem.show('Relat√≥rio em desenvolvimento', 'info')">
            <i class="fas fa-clock"></i> Em Breve
        </button>
    </div>

    <!-- Despesas com Pessoal -->
    <div class="relatorio-card slide-in-up" style="animation-delay: 0.4s;">
        <div class="relatorio-icon">
            üë•
        </div>
        <h3>Despesas com Pessoal</h3>
        <p>Classifica√ß√£o e an√°lise completa das despesas relacionadas a recursos humanos e folha de pagamento.</p>
        <div style="margin-bottom: 1rem;">
            <span class="status-badge status-development">Em Desenvolvimento</span>
        </div>
        <button class="btn-secondary-custom" onclick="NotificationSystem.show('Relat√≥rio em desenvolvimento', 'info')">
            <i class="fas fa-clock"></i> Em Breve
        </button>
    </div>

    <!-- Fluxo de Caixa -->
    <div class="relatorio-card slide-in-up" style="animation-delay: 0.5s;">
        <div class="relatorio-icon">
            üí∏
        </div>
        <h3>Fluxo de Caixa</h3>
        <p>An√°lise detalhada das entradas e sa√≠das de caixa com proje√ß√µes e comparativos mensais.</p>
        <div style="margin-bottom: 1rem;">
            <span class="status-badge status-development">Em Desenvolvimento</span>
        </div>
        <button class="btn-secondary-custom" onclick="NotificationSystem.show('Relat√≥rio em desenvolvimento', 'info')">
            <i class="fas fa-clock"></i> Em Breve
        </button>
    </div>

    <!-- Balan√ßo Patrimonial -->
    <div class="relatorio-card slide-in-up" style="animation-delay: 0.6s;">
        <div class="relatorio-icon">
            üìä
        </div>
        <h3>Balan√ßo Patrimonial</h3>
        <p>Demonstra√ß√£o completa do patrim√¥nio da empresa com ativos, passivos e patrim√¥nio l√≠quido.</p>
        <div style="margin-bottom: 1rem;">
            <span class="status-badge status-development">Em Desenvolvimento</span>
        </div>
        <button class="btn-secondary-custom" onclick="NotificationSystem.show('Relat√≥rio em desenvolvimento', 'info')">
            <i class="fas fa-clock"></i> Em Breve
        </button>
    </div>
</div>

<!-- Modal de Relat√≥rios -->
<div id="modalRelatorio" class="modal-overlay">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">Relat√≥rio</h2>
            <button class="modal-close" onclick="fecharModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="loading-container">
                <div class="loading-spinner"></div>
                <div class="loading-text">Carregando...</div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script>
    // Anima√ß√£o de entrada dos cards
    document.addEventListener('DOMContentLoaded', () => {
        const cards = document.querySelectorAll('.relatorio-card');
        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                card.style.transition = 'all 0.5s ease';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 100);
        });
    });

    // Filtros funcionais
    document.querySelectorAll('.filter-select').forEach(select => {
        select.addEventListener('change', () => {
            NotificationSystem.show('Filtro aplicado com sucesso', 'success');
        });
    });
</script>
{% endblock %}